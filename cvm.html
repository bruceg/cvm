<html>
<body>
<h1>CVM: Credential Validation Module</h1>

<p><a href="protocol.html">CVM Protocol Description</a>
<br><a href="credentials.html">CVM Credential Definitions</a>
<br><a href="facts.html">CVM Fact Definitions</a>
<br><a href="client.html">CVM Client Library</a>
<br><a href="module.html">CVM Module Library</a>
<br><a href="sasl.html">CVM SASL Library</a>
<br><a href="errors.html">CVM Error Values</a>
<br><a href="rationale.html">CVM Design Rationale</a>
</p>

<p><a href="cvm-checkpassword.html">The cvm-checkpassword Program</a>
<br><a href="cvm-testclient.html">The cvm-testclient Program</a>
<br><a href="cvm-benchclient.html">The cvm-benchclient Program</a>
</p>

<p><a href="cvm-unix.html">The cvm-unix Module</a>
<br><a href="cvm-pwfile.html">The cvm-pwfile Module</a>
<br><a href="../cvm-sql/cvm-mysql.html">The cvm-mysql Module</a>
<br><a href="../cvm-sql/cvm-pgsql.html">The cvm-pgsql Module</a>
</p>

<hr>

<p>CVM is a framework for validating a set of credentials against a
database using a filter program.  The modules act as a filter, taking
a set of credentials as input and writing a set of facts as output if
those credentials are valid.  Optional input is given to the module
through environment variables.</p>

<p>Some of the ideas for CVM came from experience with PAM (pluggable
authentication modules), the <a
http="http://cr.yp.to/checkpwd.html">checkpassword</a> interface used
by <tt>qmail-pop3d</tt>, and the "authmod" interface used by Courier
IMAP and POP3.  This framework places fewer restrictions on the
invoking client than checkpassword does, and is much simpler to
implement on both sides than PAM and the authmod framework.</p>

<h2>Contact Modes</h2>

<p>CVM modules may be contacted by one of three modes:<ol>

<li>Command execution: Use a module name of
<tt>cvm-command:/path/to/command</tt>.  The <tt>cvm-command:</tt>
prefix is optional.

<li>UNIX (or local) domain socket:  Use a module name of
<tt>cvm-local:/path/to/socket</tt>.

<li>UDP:  Use a module name of <tt>cvm-udp:hostname:port</tt>.

</ol></p>

<h2>Module Invocation</h2>

<p>CVM modules are invoked using a similar syntax to the above:<ol>

<li>UNIX (or local) domain server: Use a command-line argument of
<tt>cvm-local:/path/to/socket</tt>.  If <tt>$CVM_SOCKET_MODE</tt> is
set, the created socket will have this mode (in octal, defaults to
<tt>777</tt>).  If <tt>$CVM_SOCKET_OWNER</tt> or
<tt>$CVM_SOCKET_GROUP</tt> are set, the created socket will have its
UID/GID set appropriately.

<li>UDP socket server: Use a command-line argument of
<tt>cvm-udp:hostname:port</tt>.  The <tt>hostname</tt> argument
specifies the IP to bind the socket to.  Normally this will be
<tt>0</tt> to bind to all IPs.

</ol></p>

</body>
</html>
