<loop addr user user-addr user-addr-x user-wild user-wild-x user-wild-x-y-z alias alias-x awild awild-x USER user-ADDR>
<loop domain local.dom>

testq $addr $domain secret

<result user local.dom>
user name:        user
user ID:          @UID@
group ID:         @GID@
real name:        (null)
directory:        @TMPDIR@
shell:            (null)
group name:       (null)
system user name: user
system directory: @TMPDIR@
domain:           local.dom
mailbox path:     @TMPDIR@

<result user-addr local.dom>
user name:        user
user ID:          @UID@
group ID:         @GID@
real name:        (null)
directory:        @TMPDIR@
shell:            (null)
group name:       (null)
system user name: user
system directory: @TMPDIR@
domain:           local.dom
mailbox path:     @TMPDIR@

<result user-addr-x local.dom>
Authentication failed, error #100

<result user-wild local.dom>
Authentication failed, error #100

<result user-wild-x local.dom>
user name:        user
user ID:          @UID@
group ID:         @GID@
real name:        (null)
directory:        @TMPDIR@
shell:            (null)
group name:       (null)
system user name: user
system directory: @TMPDIR@
domain:           local.dom
mailbox path:     @TMPDIR@

<result user-wild-x-y-z local.dom>
user name:        user
user ID:          @UID@
group ID:         @GID@
real name:        (null)
directory:        @TMPDIR@
shell:            (null)
group name:       (null)
system user name: user
system directory: @TMPDIR@
domain:           local.dom
mailbox path:     @TMPDIR@

<result alias local.dom>
user name:        alias
user ID:          @UID@
group ID:         @GID@
real name:        (null)
directory:        @TMPDIR@/alias
shell:            (null)
group name:       (null)
system user name: alias
system directory: @TMPDIR@/alias
domain:           local.dom
mailbox path:     @TMPDIR@/alias

<result alias-x local.dom>
Authentication failed, error #100

<result awild local.dom>
Authentication failed, error #100

<result awild-x local.dom>
user name:        alias
user ID:          @UID@
group ID:         @GID@
real name:        (null)
directory:        @TMPDIR@/alias
shell:            (null)
group name:       (null)
system user name: alias
system directory: @TMPDIR@/alias
domain:           local.dom
mailbox path:     @TMPDIR@/alias

<result USER local.dom>
Authentication failed, error #100

<result user-ADDR local.dom>
user name:        user
user ID:          @UID@
group ID:         @GID@
real name:        (null)
directory:        @TMPDIR@
shell:            (null)
group name:       (null)
system user name: user
system directory: @TMPDIR@
domain:           local.dom
mailbox path:     @TMPDIR@
