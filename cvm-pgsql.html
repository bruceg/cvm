<html>
<body>

<h2><a href="cvm.html">CVM</a></h2>

<h1>The cvm-pgsql Module</h1>

<h2>Synopsis:</h2> <p>PgSQL module</p>

<h2>Credentials:</h2>

<ol>
<li>Pass phrase
</ol>

<h2>Description:</h2>

<p>This module queries a PgSQL database for the account name, compares
the stored pass phrase with the given one using <tt>crypt</tt>.</p>

<h2>Configuration Variables:</h2>

<ul>

<li>The server hostname, port, database, username, password, and
additional options can be controlled by setting <tt>PGHOST</tt>,
<tt>PGPORT</tt>, <tt>PGDATABASE</tt>, <tt>PGUSER</tt>,
<tt>PGPASSWORD</tt>, and <tt>PGOPTIONS</tt> respectively, which are
parsed by the PgSQL client library.

<li><tt>CVM_PGSQL_QUERY</tt> (optional): The query to issue to
retrieve the row containing the account information from the database.
The first occurrence of the percent symbol (<tt>%</tt>) is replaced
with the quoted value of the account name.  The query must produce the
following fields exactly in order:

<ol>
<li>Password, encrypted with <tt>crypt</tt>.
<li>Actual account name.  Must not be null.
<li>User ID (integer).  Must not be null.
<li>Group ID (integer).  Must not be null.
<li>Real name.  Optional.
<li>Directory.  Must not be null.
<li>Login shell.  Optional.
</ol>

Defaults to "<tt>SELECT password, username, userid, groupid, realname,
directory, shell FROM accounts WHERE username=%</tt>".

<li><tt>CVM_PGSQL_PWCMP</tt> (optional): The <a
href="../pwcmp/pwcmp.html">password comparison module</a> to use.

</ul>

</body>
</html>
